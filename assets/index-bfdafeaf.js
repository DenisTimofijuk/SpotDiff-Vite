var ue=Object.defineProperty;var fe=(r,e,t)=>e in r?ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var v=(r,e,t)=>(fe(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();class he{constructor(e){v(this,"buffers");this.context=e,this.buffers=new Map}addAudio(e,t){this.buffers.set(e,t)}playAudio(e){if(this.buffers.has(e)){const t=this.context.createBufferSource();t.connect(this.context.destination),t.buffer=this.buffers.get(e),t.start(0)}else console.warn(`Audio [${e}] was not found.`)}}function ge(r){return function(t){return fetch(t).then(o=>o.arrayBuffer()).then(o=>r.decodeAudioData(o))}}function we(r,e){const t=ge(e),o=new he(e),n=[];return r.forEach((i,a)=>{const s=t(i).then(d=>{o.addAudio(a+"",d)});n.push(s)}),Promise.all(n).then(()=>o)}class U{constructor(){v(this,"audio");this.audio=new Audio}load(e){const t=this;return new Promise(function(o,n){t.audio.preload="auto",t.audio.onerror=n,t.audio.addEventListener("loadeddata",o),t.audio.src=e})}setVolume(e){this.audio.volume=e}play(){this.audio.currentTime=0,this.audio.play()}stop(){this.audio.pause()}fadeOut(){if(this.audio.paused)return;let t=this.audio.volume-.005;t<=.001?this.stop():this.audio.volume=t}}const me=async function(r,e,t,o){let d=0,l=!1,h=!1;const u=e[3];let g=-u.width;const p=t.screeenA,y=t.screeenB,_=new U;_.load("./settings/L-1/audio/ufo1.mp3").then(()=>{_.audio.volume=.1});const T=new Event("updatediffIndi");function M(I){var D,N;if(!l)return;if(h){_.fadeOut();return}const P=300*I;if(g+=P,d=Math.round(Math.sin(g/50)*20)+30,g<=p.canvas.width+P&&((D=p.ctx)==null||D.drawImage(u,Math.round(g),Math.round(d))),g>=p.canvas.width-u.width&&g-y.canvas.width<=y.canvas.width+P){const R=g-y.canvas.width;(N=y.ctx)==null||N.drawImage(u,Math.round(R),Math.round(d))}g-y.canvas.width>y.canvas.width&&(h=!0),_.audio.paused&&_.play(),260<Math.round(g)&&Math.round(g)<265&&(o.searchablePins.push(...xe(t)),window.dispatchEvent(T))}return function(P){r.diffs===3&&(l=!0),M(P)}};function xe(r){const e=r.screeenA,t={x:391,y:51,w:70,h:60},o=t.x+t.w/2,n=t.y+t.h/2,i=t.w/25;return e.bufferCtx.beginPath(),e.bufferCtx.fillStyle="white",e.bufferCtx.arc(o,n,i,0,2*Math.PI),e.bufferCtx.fill(),e.bufferCtx.closePath(),[t.x,t.y,t.w,t.h]}const ve=async function(r,e,t,o){const n=new Event("updatediffIndi"),i=t.screeenB,a=t.screeenA,s=e[3],d=e[2],l={x:i.canvas.width,y:-10,vel:3.4,drag:.05};let h=!1,u=!1,g=!1;const p=new U;p.load("./settings/L-1/audio/ufo3.mp3").then(()=>{p.audio.volume=.2});const y=ye(t,d,350,200);function _(T){var D,N;if(!h)return;if(u){p.fadeOut();return}p.audio.paused&&p.play();let M=0,I=0;l.vel-=l.drag,l.x-=l.vel+2,l.y+=l.vel+1.6;let P=[];l.vel<0&&(g||(P=_e(t),o.searchablePins.push(...P),g=!0,window.dispatchEvent(n)),[M,I]=y()),(D=i.ctx)==null||D.drawImage(s,Math.round(l.x),Math.round(l.y)),(N=a.ctx)==null||N.drawImage(s,Math.round(l.x),Math.round(l.y)),l.x<=i.canvas.width+s.width&&l.y>=-s.height||(u=!0,pe(t,d,M,I))}return function(M){r.diffs===1&&(h=!0),_()}};function pe(r,e,t,o){var a,s;const n=r.screeenB,i=r.screeenA;(a=n.bufferCtx)==null||a.drawImage(e,Math.round(t),Math.round(o)),(s=i.bufferCtx)==null||s.drawImage(e,Math.round(t),Math.round(o))}function ye(r,e,t,o){const n=r.screeenB,i=r.screeenA,a={x:t,y:o,velocity:-.4,acceleration:.01};return function(){var d,l;return a.velocity+=a.acceleration,a.x-=a.velocity+.1,a.y+=a.velocity,(d=n.ctx)==null||d.drawImage(e,Math.round(a.x),Math.round(a.y)),(l=i.ctx)==null||l.drawImage(e,Math.round(a.x),Math.round(a.y)),[a.x,a.y]}}function _e(r){var n;const e=r.screeenB,t={x:229,y:341,w:26,h:16},o={x:396,y:245,w:83,h:54};return(n=e.bufferCtx)==null||n.drawImage(e.buffer,t.x,t.y,t.w,t.h,o.x+25,o.y+15,t.w,t.h),[o.x,o.y,o.w,o.h]}class m{constructor(e,t){v(this,"canv");v(this,"ctx");this.canv=document.createElement("canvas"),this.canv.width=e,this.canv.height=t,this.ctx=this.canv.getContext("2d")}clear(){this.ctx.clearRect(0,0,this.canv.width,this.canv.height)}}const be=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new m(n,i),d=new m(n,i),l=new m(n,i);s.ctx.drawImage(e[2],0,0),d.ctx.drawImage(e[3],0,0),l.ctx.drawImage(e[4],0,0);const h=new m(n,i),u=new m(n,i),g=new m(n,i);h.ctx.drawImage(e[5],0,0),u.ctx.drawImage(e[6],0,0),g.ctx.drawImage(e[7],0,0);const p=new m(n,i),y=new m(n,i);p.ctx.drawImage(e[8],0,0),y.ctx.drawImage(e[9],0,0);let _=0;return function(M){a.clear();const I=Math.trunc(Math.sin(_/100)*10);I>8?a.ctx.drawImage(s.canv,0,0):I>7?a.ctx.drawImage(d.canv,0,0):I>6&&a.ctx.drawImage(l.canv,0,0),I>4?a.ctx.drawImage(h.canv,0,0):I>3?a.ctx.drawImage(u.canv,0,0):I>2&&a.ctx.drawImage(g.canv,0,0),I%3?a.ctx.drawImage(p.canv,0,0):a.ctx.drawImage(y.canv,0,0),t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0),_++}},Ie=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i);a.ctx.drawImage(e[10],0,0);const s=new Event("updatediffIndi");let d=!1;function l(){d||(o.searchablePins.push(131,273,84,123),t.screeenA.bufferCtx.drawImage(a.canv,0,0),window.dispatchEvent(s),d=!0)}return function(u){r.diffs==1&&l()}},Ae=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new m(n,i),d=new m(n,i),l=new m(n,i),h=new m(n,i);d.ctx.drawImage(e[2],0,0),l.ctx.drawImage(e[4],0,0),h.ctx.drawImage(e[3],0,0);let u=!0;const g=new U;g.load("./settings/L-12/audio/107195.ogg").then(()=>{g.audio.volume=.5});const p=new Event("updatediffIndi");let y=0,_=n,T=!1;function M(){T||(o.searchablePins.push(449,272,79,72),t.screeenA.bufferCtx.drawImage(d.canv,0,0),window.dispatchEvent(p),T=!0)}function I(){if(_<n*-1)return;_<n-300&&M(),u&&g.play(),u=!1;const P=Math.trunc(Math.sin(y/10)*10);a.ctx.drawImage(h.canv,Math.round(_),P),s.ctx.save(),s.ctx.scale(-1,1),s.ctx.drawImage(h.canv,Math.round(_)-n,P),s.ctx.restore(),_-=3.3}return function(D){a.clear(),s.clear(),r.diffs===1&&I(),a.ctx.drawImage(l.canv,0,0),s.ctx.drawImage(l.canv,0,0),t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(s.canv,0,0),y++}},Le=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new m(n,i),d=new m(n,i);s.ctx.drawImage(e[2],0,0),d.ctx.drawImage(e[3],0,0);const l=new U;l.load("./settings/L-13/audio/alien-spaceship-6321.mp3").then(()=>{l.audio.volume=.1});let h=!1,u=-n,g=-50;function p(){a.ctx.drawImage(s.canv,u,Math.round(g)),l.audio.paused&&l.play(),u+=2,g+=.1,u<n?h=!0:(h=!1,u=-n,g=-50)}return function(_){a.clear(),(Math.round(Math.random()*1e3)<=1||h)&&p(),a.ctx.drawImage(d.canv,0,0),t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)}};function O(r,e){return Math.floor(Math.random()*(e-r)+r)}function q({init:r,diffs:e,duration:t,delay:o}){let n=0;return function(a){if(n+=a,n<o)return!1;const d=(n-o)/t%1,l=Math.sin(d*Math.PI*2),h=r+l*e;return d<=1&&l>=-1&&h>0}}const Ee=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=[new m(n,i),new m(n,i),new m(n,i)];s[0].ctx.drawImage(e[2],0,0),s[1].ctx.drawImage(e[3],0,0),s[2].ctx.drawImage(e[4],0,0);const d=[q({init:0,diffs:.5,duration:2,delay:.2}),q({init:0,diffs:.5,duration:2,delay:1}),q({init:0,diffs:.5,duration:2,delay:.5})];return function(h){a.clear();for(let u=0;u<s.length;u++)d[u](h)&&a.ctx.drawImage(s[u].canv,0,0);t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)}},Be=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=[new m(n,i),new m(n,i)];s[0].ctx.drawImage(e[6],0,0),s[1].ctx.drawImage(e[7],0,0);const d=[q({init:0,diffs:.5,duration:.5,delay:0}),q({init:0,diffs:.5,duration:.5,delay:.25})];return function(h){a.clear(),a.ctx.globalAlpha=.3,a.ctx.globalCompositeOperation="screen";for(let u=0;u<s.length;u++)d[u](h)&&a.ctx.drawImage(s[u].canv,0,0);t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)}},Pe=async function(r,e,t,o){const n=new U;n.load("./settings/L-14/audio/snail.mp3").then(()=>{n.audio.volume=.5});const i=t.screeenA.canvas.width,a=t.screeenA.canvas.height,s=new m(i,a),d=[new m(i,a),new m(i,a)],l=new m(i,a);d[0].ctx.drawImage(e[8],0,0),d[1].ctx.drawImage(e[9],0,0),l.ctx.drawImage(e[5],0,0);const h=[q({init:0,diffs:.5,duration:1,delay:0}),q({init:0,diffs:.5,duration:1,delay:.5})],u=new Event("updatediffIndi");let g=!1;const p=1.5,y=0;let _=t.screeenA.canvas.width+y;function T(I){if(!(_<0-t.screeenA.canvas.width)){n.audio.paused&&n.play();for(let P=0;P<d.length;P++)h[P](I)&&s.ctx.drawImage(d[P].canv,_,0);_<165&&M(),_-=p}}function M(){g||(o.searchablePins.push(444,318,150,102),t.screeenA.bufferCtx.drawImage(l.canv,0,0),window.dispatchEvent(u),g=!0)}return function(P){s.clear(),r.diffs===1&&T(P),t.screeenA.ctx.drawImage(s.canv,0,0),t.screeenB.ctx.drawImage(s.canv,0,0)}},Ce=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new m(n,i),d=new m(n,i);s.ctx.drawImage(e[2],0,0),d.ctx.drawImage(e[2],0,0);let l=0,h=0,u=0,g=0,p=.5,y=J(),_=J();return function(M){a.clear(),y<0&&(l+=p+1.2,h+=p,a.ctx.drawImage(s.canv,l,h)),_<0&&(u+=p+1.2,g+=p,a.ctx.drawImage(d.canv,u,g)),h>t.screeenA.canvas.height/3&&(l=0,h=0,y=J()),g>t.screeenA.canvas.height/3&&(u=0,g=0,_=J()),y--,_--,t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)}};function J(){return Math.floor(Math.random()*500)}const Me=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i);a.ctx.drawImage(t.screeenA.buffer,464,250,36,19,464,250-19,36,19);let s=ae();return function(l){s--,s>0&&s<60?(t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)):s=ae()}};function ae(){return Math.floor(Math.random()*100)}const Fe=function(){var r,e,t=[0,4,2,1],o=[8,8,4,2],n,i,a,s;const d={GCExt:249,COMMENT:254,APPExt:255,UNKNOWN:1,IMAGE:44,EOF:59,EXT:33};var l=function(w){this.data=new Uint8ClampedArray(w),this.pos=0;var f=this.data.length;this.getString=function(x){for(var L="";x--;)L+=String.fromCharCode(this.data[this.pos++]);return L},this.readSubBlocks=function(){var x,L,E="";do for(L=x=this.data[this.pos++];L--;)E+=String.fromCharCode(this.data[this.pos++]);while(x!==0&&this.pos<f);return E},this.readSubBlocksB=function(){var x,L,E=[];do for(L=x=this.data[this.pos++];L--;)E.push(this.data[this.pos++]);while(x!==0&&this.pos<f);return E}};function h(w,f){var x,L,E,B,k,F,C,A,S,b,V,ne;for(E=L=0,A=[],B=1<<w,k=B+1,F=w+1,C=!1;!C;){for(b=S,S=0,x=0;x<F;x++)f[E>>3]&1<<(E&7)&&(S|=1<<x),E++;if(S===B){for(A=[],F=w+1,x=0;x<B;x++)A[x]=[x];A[B]=[],A[k]=null}else{if(S===k){C=!0;return}for(S>=A.length?A.push(A[b].concat(A[b][0])):b!==B&&A.push(A[b].concat(A[S][0])),V=A[S],ne=V.length,x=0;x<ne;x++)s[L++]=V[x];A.length===1<<F&&F<12&&F++}}}function u(w){for(var f=[],x=0;x<w;x++)f.push([e.data[e.pos++],e.data[e.pos++],e.data[e.pos++]]);return f}function g(){var w;e.pos+=6,c.width=e.data[e.pos++]+(e.data[e.pos++]<<8),c.height=e.data[e.pos++]+(e.data[e.pos++]<<8),w=e.data[e.pos++],c.colorRes=(w&112)>>4,c.globalColourCount=1<<(w&7)+1,c.bgColourIndex=e.data[e.pos++],e.pos++,w&128&&(c.globalColourTable=u(c.globalColourCount)),setTimeout(D,0)}function p(){e.pos+=1,e.getString(8)==="NETSCAPE"?e.pos+=8:(e.pos+=3,e.readSubBlocks())}function y(){var w;e.pos++,w=e.data[e.pos++],c.disposalMethod=(w&28)>>2,c.transparencyGiven=!!(w&1),c.delayTime=e.data[e.pos++]+(e.data[e.pos++]<<8),c.transparencyIndex=e.data[e.pos++],e.pos++}function _(){var w,f,x;w=function(L){var E,B,k,F;for(E=a/L,B=0,n!==a&&(i=new Uint8Array(a),n=a),k=0;k<4;k++)for(F=t[k];F<E;F+=o[k])i.set(s.subarray(B,B+L),F*L),B+=L},f={},c.frames.push(f),f.disposalMethod=c.disposalMethod,f.time=c.length,f.delay=c.delayTime*10,c.length+=f.delay,c.transparencyGiven?f.transparencyIndex=c.transparencyIndex:f.transparencyIndex=void 0,f.leftPos=e.data[e.pos++]+(e.data[e.pos++]<<8),f.topPos=e.data[e.pos++]+(e.data[e.pos++]<<8),f.width=e.data[e.pos++]+(e.data[e.pos++]<<8),f.height=e.data[e.pos++]+(e.data[e.pos++]<<8),x=e.data[e.pos++],f.localColourTableFlag=!!(x&128),f.localColourTableFlag&&(f.localColourTable=u(1<<(x&7)+1)),a!==f.width*f.height&&(s=new Uint8Array(f.width*f.height),a=f.width*f.height),h(e.data[e.pos++],e.readSubBlocksB()),x&64?(f.interlaced=!0,w(f.width)):f.interlaced=!1,T(f)}function T(b){var f,x,L,E,B,k,F,C,A,S,b,V;for(b.image=document.createElement("canvas"),b.image.width=c.width,b.image.height=c.height,b.image.ctx=b.image.getContext("2d"),f=b.localColourTableFlag?b.localColourTable:c.globalColourTable,c.lastFrame===null&&(c.lastFrame=b),k=c.lastFrame.disposalMethod===2||c.lastFrame.disposalMethod===3,k||b.image.ctx.drawImage(c.lastFrame.image,0,0,c.width,c.height),x=b.image.ctx.getImageData(b.leftPos,b.topPos,b.width,b.height),V=b.transparencyIndex,L=x.data,b.interlaced?A=i:A=s,E=A.length,B=0,F=0;F<E;F++)C=A[F],S=f[C],V!==C?(L[B++]=S[0],L[B++]=S[1],L[B++]=S[2],L[B++]=255):(k&&(L[B+3]=0),B+=4);b.image.ctx.putImageData(x,b.leftPos,b.topPos),c.lastFrame=b,!c.waitTillDone&&typeof c.onload=="function"&&H()}function M(){c.loading=!1,c.frameCount=c.frames.length,c.lastFrame=null,e=void 0,c.complete=!0,c.disposalMethod=void 0,c.transparencyGiven=void 0,c.delayTime=void 0,c.transparencyIndex=void 0,c.waitTillDone=void 0,s=void 0,i=void 0,a=void 0,i=void 0,c.currentFrame=0,c.frames.length>0&&(c.image=c.frames[0].image),H(),typeof c.onloadall=="function"&&c.onloadall.bind(c)({type:"loadall",path:[c]}),c.playOnLoad&&c.play()}function I(){M(),typeof c.cancelCallback=="function"&&c.cancelCallback.bind(c)({type:"canceled",path:[c]})}function P(){const w=e.data[e.pos++];w===d.GCExt?y():w===d.COMMENT?c.comment+=e.readSubBlocks():w===d.APPExt?p():(w===d.UNKNOWN&&(e.pos+=13),e.readSubBlocks())}function D(){if(c.cancel!==void 0&&c.cancel===!0){I();return}const w=e.data[e.pos++];if(w===d.IMAGE){if(_(),c.firstFrameOnly){M();return}}else if(w===d.EOF){M();return}else P();typeof c.onprogress=="function"&&c.onprogress({bytesRead:e.pos,totalBytes:e.data.length,frame:c.frames.length}),setTimeout(D,0)}function N(w){return c.complete?!1:(c.cancelCallback=w,c.cancel=!0,!0)}function R(w){typeof c.onerror=="function"&&c.onerror.bind(this)({type:w,path:[this]}),c.onload=c.onerror=void 0,c.loading=!1}function H(){c.currentFrame=0,c.nextFrameAt=c.lastFrameAt=new Date().valueOf(),typeof c.onload=="function"&&c.onload.bind(c)({type:"load",path:[c]}),c.onerror=c.onload=void 0}function z(w){e=new l(w),g()}function X(w){var f=new XMLHttpRequest;f.responseType="arraybuffer",f.onload=function(x){x.target.status===404?R("File not found"):x.target.status>=200&&x.target.status<300?z(f.response):R("Loading error : "+x.target.status)},f.open("GET",w,!0),f.send(),f.onerror=function(x){R("File error")},this.src=w,this.loading=!0}function G(){c.playing||(c.paused=!1,c.playing=!0,K())}function ee(){c.paused=!0,c.playing=!1,clearTimeout(r)}function W(){c.paused||!c.playing?c.play():c.pause()}function $(w){clearTimeout(r),c.currentFrame=w%c.frames.length,c.playing?K():c.image=c.frames[c.currentFrame].image}function Y(w){clearTimeout(r),w<0&&(w=0),w*=1e3,w%=c.length;for(var f=0;w>c.frames[f].time+c.frames[f].delay&&f<c.frames.length;)f+=1;c.currentFrame=f,c.playing?K():c.image=c.frames[c.currentFrame].image}function K(){var w,f;if(c.playSpeed===0){c.pause();return}else c.playSpeed<0?(c.currentFrame-=1,c.currentFrame<0&&(c.currentFrame=c.frames.length-1),f=c.currentFrame,f-=1,f<0&&(f=c.frames.length-1),w=-c.frames[f].delay*1/c.playSpeed):(c.currentFrame+=1,c.currentFrame%=c.frames.length,w=c.frames[c.currentFrame].delay*1/c.playSpeed),c.image=c.frames[c.currentFrame].image,r=setTimeout(K,w)}var c={onload:null,onerror:null,onprogress:null,onloadall:null,paused:!1,playing:!1,waitTillDone:!0,loading:!1,firstFrameOnly:!1,width:null,height:null,frames:[],comment:"",length:0,currentFrame:0,frameCount:0,playSpeed:1,lastFrame:null,image:null,playOnLoad:!0,load:X,cancel:N,play:G,pause:ee,seek:Y,seekFrame:$,togglePlay:W,dataLoaded:z};return c},Te=async function(r,e,t,o){const n=new m(100,95),i=Fe();i.load("./settings/L-3/img/ezgif.com-gif-maker.gif"),await new Promise(function(h,u){i.onload=function(g){h(!0)}});const a={x:0,y:0,w:100,h:95},s={x:450,y:0,w:100,h:95};let d=0,l=.2;return function(u){n.clear(),n.ctx.drawImage(i.frames[Math.floor(d)].image,0,0),t.screeenA.ctx.drawImage(n.canv,a.x,a.y,a.w,a.h,s.x,s.y,s.w,s.h),t.screeenB.ctx.drawImage(n.canv,a.x,a.y,a.w,a.h,s.x,s.y,s.w,s.h),d+=l,d>=i.frames.length&&(d=0)}},ke=async function(r,e,t,o){const n=document.createElement("canvas");n.width=220,n.height=220,n.getContext("2d").drawImage(e[2],180,180,210,220,0,0,210,220);const a={y:t.screeenA.canvas.height,x:-n.width};let s=a.x,d=a.y;const l=.2;return function(u){t.screeenA.ctx.drawImage(n,s,d),t.screeenB.ctx.drawImage(n,s,d),t.screeenA.ctx.drawImage(e[4],0,0),t.screeenB.ctx.drawImage(e[4],0,0),s+=l*.5,d-=l,d<-n.height&&(s=a.x,d=a.y)}},Se=async function(r,e,t,o){const n=[],i=e.slice(5,e.length-1),a=t.screeenA.canvas.width,s=t.screeenA.canvas.height;i.forEach(u=>{const g=new m(a,s);g.ctx.drawImage(u,0,0),n.push(g.canv)});const d=35;let l=0,h=O(0,n.length);return function(g){l++,l>d&&(l=0,h=O(0,n.length)),t.screeenA.ctx.drawImage(n[h],0,0),t.screeenB.ctx.drawImage(n[h],0,0)}},De=async function(r,e,t,o){const n=[],i=t.screeenA.canvas.width,a=t.screeenA.canvas.height,s=new m(i,a);for(let l=3;l<e.length;l++){const h=new m(i,a);h.ctx.drawImage(e[l],0,0),n.push({buffer:h,time:0})}function d(){s.clear(),n.forEach(l=>{l.time>20&&s.ctx.drawImage(l.buffer.canv,0,0),l.time<0&&(l.time=Oe()),l.time--})}return function(h){d(),t.screeenA.ctx.drawImage(s.canv,0,0),t.screeenB.ctx.drawImage(s.canv,0,0)}};function Oe(){return Math.floor(Math.random()*30)}const Ne=async function(r,e,t,o){const n=[],i=t.screeenA.canvas.width,a=t.screeenA.canvas.height,s=new m(i,a),d=15,l=e[2];for(let u=0;u<d;u++){const g=O(10,50),p=new m(g,g);p.ctx.drawImage(l,0,0,i,a,0,0,g,g),n.push({buffer:p,pos:{x:O(0,i),y:O(0,a)},vel:{x:O(10,100)/100,y:O(10,100)/100}})}function h(){s.clear(),n.forEach(u=>{u.pos.x+=u.vel.x,u.pos.y+=u.vel.y,u.pos.x>i-u.buffer.canv.width?(u.vel.x=-u.vel.x,u.pos.x=i-u.buffer.canv.width):u.pos.x<0&&(u.vel.x=-u.vel.x,u.pos.x=0),u.pos.y>a-u.buffer.canv.height?(u.vel.y=-u.vel.y,u.pos.y=a-u.buffer.canv.height):u.pos.y<0&&(u.vel.y=-u.vel.y,u.pos.y=0),s.ctx.drawImage(u.buffer.canv,u.pos.x,u.pos.y)})}return function(g){h(),t.screeenA.ctx.drawImage(s.canv,0,0),t.screeenB.ctx.drawImage(s.canv,0,0)}},He=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new m(20,20),d=new m(20,20);se(s),se(d);let l=0,h=.01;return function(g){a.clear(),l+=h,Math.round(l)%2?(a.ctx.drawImage(s.canv,152,185),a.ctx.drawImage(d.canv,105,185,10,10)):(a.ctx.drawImage(d.canv,100,180),a.ctx.drawImage(s.canv,155,190,10,10)),t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)}};function se(r){r.ctx.beginPath(),r.ctx.arc(10,10,2,0,2*Math.PI),r.ctx.strokeStyle="yellow",r.ctx.fillStyle="red",r.ctx.stroke(),r.ctx.fill(),r.ctx.closePath()}const Re=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new U;s.load("./settings/L-8/audio/light.ogg").then(()=>{s.audio.volume=.4});const d=ze(a,e[3],e[4],s);let l=0;const h=.005;return function(g){l+=h,a.clear(),d(Math.sin(l)>.9999),t.screeenA.ctx.drawImage(a.canv,0,0),t.screeenB.ctx.drawImage(a.canv,0,0)}};function ze(r,e,t,o){const n=[t,t,e,e,e,e,e,t,t,t,e,e,e,t,t,t,t];let i=0;return function(s){s&&(i=0,o.audio.paused&&o.play()),!(i>=n.length)&&(r.ctx.drawImage(n[i],0,0),i++)}}const Ge=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=new m(80,70);s.ctx.drawImage(e[2],0,0);const d={x:n*2+1,y:50};let l=0;const h=.1,u=1,g=4;let p=10;const y=.005;return function(T){l+=h,p+=y,Math.sin(p)>=.999&&d.x>n*2&&(d.x=-s.canv.width),!(d.x>n*2)&&(a.clear(),a.ctx.setTransform(u,0,0,u,s.canv.width/2,s.canv.height/2),a.ctx.rotate(l),a.ctx.drawImage(s.canv,-s.canv.width/2,-s.canv.height/2),a.ctx.setTransform(1,0,0,1,0,0),d.x+=g,t.screeenA.ctx.drawImage(a.canv,d.x,d.y),t.screeenB.ctx.drawImage(a.canv,d.x-t.screeenB.canvas.width,d.y))}},qe=async function(r,e,t,o){const n=t.screeenA.canvas.width,i=t.screeenA.canvas.height,a=new m(n,i),s=[],d=[{x:70,y:480},{x:520,y:450},{x:380,y:420}];d.forEach(u=>{const g=new m(n,i);g.ctx.drawImage(e[5],u.x,u.y),s.push(g)});const l=[],h=new Set;return function(g){if(a.clear(),O(0,60)===11){const y=O(0,d.length);h.has(y)||(h.add(y),l.push({index:y,time:O(50,100)}))}l.length!==0&&(l.forEach((y,_)=>{a.ctx.drawImage(s[y.index].canv,0,0),y.time--,y.time<0&&l.splice(_,1)&&h.delete(y.index)}),t.screeenB.ctx.drawImage(a.canv,0,0),t.screeenA.ctx.drawImage(a.canv,0,0))}},Ue=async function(r,e,t,o){const n=t.screeenA.canvas.width,i={s_x:-400,s_y:45,x:-400,y:45,vel_x:10,vel_y:1},a={s_x:-300,s_y:45,x:-300,y:45,vel_x:10,vel_y:1.3},s={s_x:-600,s_y:80,x:-600,y:80,vel_x:7.5,vel_y:1};return function(g){d(),l(),h()};function d(){i.x+=i.vel_x,i.y-=i.vel_y,i.x>n&&(i.x=i.s_x,i.y=i.s_y),t.screeenA.ctx.drawImage(e[2],i.x,i.y),t.screeenB.ctx.drawImage(e[2],i.x,i.y)}function l(){a.x+=a.vel_x,a.y-=a.vel_y,a.x>n&&(a.x=a.s_x,a.y=a.s_y),t.screeenA.ctx.drawImage(e[3],a.x,a.y),t.screeenB.ctx.drawImage(e[3],a.x,a.y)}function h(){s.x+=s.vel_x,s.y-=s.vel_y,s.x>n&&(s.x=s.s_x,s.y=s.s_y),t.screeenA.ctx.drawImage(e[4],s.x,s.y),t.screeenB.ctx.drawImage(e[4],s.x,s.y)}};class ie{constructor(e){v(this,"canvas");v(this,"ctx");v(this,"buffer");v(this,"bufferCtx");this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.buffer=document.createElement("canvas"),this.buffer.width=this.canvas.width,this.buffer.height=this.canvas.height,this.bufferCtx=this.buffer.getContext("2d")}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawBuffer(){this.ctx.drawImage(this.buffer,0,0)}saveBuffer(){this.bufferCtx.drawImage(this.canvas,0,0)}initBuffer(e){this.bufferCtx.drawImage(e,0,0)}}class $e{constructor(){v(this,"screeenA");v(this,"screeenB");this.screeenA=new ie("screen-1"),this.screeenB=new ie("screen-2")}initBuffers(e){this.screeenA.initBuffer(e[0]),this.screeenB.initBuffer(e[1])}draw(){this.screeenA.clear(),this.screeenA.drawBuffer(),this.screeenB.clear(),this.screeenB.drawBuffer()}redrawSegment([e,t,o,n]){this.screeenA.bufferCtx.drawImage(this.screeenB.buffer,e,t,o,n,e,t,o,n)}}class Ke{constructor(e,t="red"){v(this,"buffer");v(this,"line");v(this,"y");v(this,"x");this.compositor=e,this.buffer=new m(e.screeenA.canvas.width,e.screeenA.canvas.height),this.line=1,this.buffer.ctx.fillStyle=t,this.buffer.ctx.textAlign="center",this.y=this.buffer.canv.height/4,this.x=this.buffer.canv.width/2}showProgress(e){this.line++,this.write(18,e,this.x,this.y+19*this.line)}init(){this.buffer.clear(),this.line=1,this.write(60,"Loading...",this.x,this.y)}write(e,t,o,n){this.buffer.ctx.font=`${e}px Comic Sans MS`,this.buffer.ctx.fillText(t,o,n),this.display()}display(){this.compositor.screeenA.ctx.drawImage(this.buffer.canv,0,0),this.compositor.screeenB.ctx.drawImage(this.buffer.canv,0,0)}}class Ve{constructor(e){v(this,"bufferPins");v(this,"searchablePins");this.bufferPins=[].concat(e),this.searchablePins=[].concat(e)}find(e,t){const o=[];for(let n=0;n<this.searchablePins.length;n+=4){if(o.length>0)continue;const[i,a,s,d]=this.getPins(n);this.isInTheRightPlace(e,t,i,a,s,d)&&(o.push(i,a,s,d),this.bufferPins.splice(n,4))}return o}getPins(e){const t=Number(this.searchablePins[e]),o=Number(this.searchablePins[e+1]),n=Number(this.searchablePins[e+2]),i=Number(this.searchablePins[e+3]);return[t,o,n,i]}isInTheRightPlace(e,t,o,n,i,a){return e>=o&&e<=o+i&&t>=n&&t<=n+a}}function j(r,e){const o=document.getElementById("screen-1").clientWidth,i=r.screeenA.canvas.width/o;return Math.round(e*i)}class je{constructor(e=1/60){v(this,"updateProxy");v(this,"enabled");this.enabled=!1;let t=0,o=null;this.updateProxy=n=>{if(o!==null)for(t+=(n-o)/1e3,t>1&&(t=1);t>e;)this.update(e),t-=e;o=n,this.enqueue()}}update(e){throw new Error("Method not implemented.")}enqueue(){this.enabled&&window.requestAnimationFrame(this.updateProxy)}start(){this.enabled=!0,this.enqueue()}stop(){this.enabled=!1}}function Xe(r){return new Promise(e=>{const t=new Image;t.addEventListener("load",()=>{e(t)}),t.src=r})}async function re(r){return await(await fetch(r)).json()}function te(r){const e=[];for(let t of r)e.push(Xe(t));return Promise.all(e)}const ce=2;let Z=1,Q=1;const We=.5;class Ye{constructor(e){v(this,"frames");v(this,"frameIndex");v(this,"pos");v(this,"bufferIndex");this.compositor=e,this.frames=[],this.frameIndex=999,this.bufferIndex=999,this.pos={x:0,y:0}}update(){this.frameIndex>=this.frames.length||(this.draw(),this.frameIndex=Math.floor(this.bufferIndex+=We))}draw(){this.compositor.screeenA.ctx.drawImage(this.frames[this.frameIndex].canv,this.pos.x,this.pos.y),this.compositor.screeenB.ctx.drawImage(this.frames[this.frameIndex].canv,this.pos.x,this.pos.y)}set([e,t,o,n]){this.pos.x=e+o/2-Z/2,this.pos.y=t+n/2-Q/2,this.frameIndex=0,this.bufferIndex=0}async initBuffer(e){(await te(e)).forEach(o=>{Z=Math.round(o.width/ce),Q=Math.round(o.height/ce);const n=new m(Z,Q);n.ctx.drawImage(o,0,0,o.width,o.height,0,0,Z,Q),this.frames.push(n)})}}function Je(){const r=document;return!!(r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||r.msFullscreenElement)}function Ze(r){r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.mozRequestFullScreen&&r.mozRequestFullScreen()}function Qe(r){r.exitFullscreen?r.exitFullscreen():r.msExitFullscreen?r.msExitFullscreen():r.webkitExitFullscreen?r.webkitExitFullscreen():r.mozCancelFullScreen&&r.mozCancelFullScreen()}const le="hide-intro",et=5;function tt(){at(),nt()}function nt(){it(le)==="true"&&de()}function de(){document.getElementById("game-intro").style.display="none"}function at(){document.getElementById("close-game-intro").addEventListener("click",function(){de(),st()})}function st(){document.getElementById("hide-intro").checked&&rt(le,"true",et)}function it(r){let e=r+"=",t=document.cookie.split(";");for(let o=0;o<t.length;o++){let n=t[o];for(;n.charAt(0)==" ";)n=n.substring(1);if(n.indexOf(e)==0)return n.substring(e.length,n.length)}return""}function rt(r,e,t){const o=new Date;o.setTime(o.getTime()+t*24*60*60*1e3);let n="expires="+o.toUTCString();document.cookie=r+"="+e+";"+n+";path=/"}class ct{constructor(e){v(this,"canvas");v(this,"ctx");v(this,"x");v(this,"y");v(this,"digits");v(this,"size");v(this,"globalCompositeOperation");v(this,"globalAlpha");this.compositor=e,this.canvas=document.createElement("canvas"),this.canvas.width=e.screeenA.canvas.width,this.canvas.height=e.screeenA.canvas.height,this.ctx=this.canvas.getContext("2d"),this.x=0,this.y=0,this.size=50,this.globalCompositeOperation="luminosity",this.globalAlpha=1,this.digits=new Map}draw(){this.compositor.screeenA.ctx.drawImage(this.canvas,0,0),this.compositor.screeenB.ctx.drawImage(this.canvas,0,0)}update(e){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const t=this.digits.get(e.toString());t?(this.ctx.drawImage(this.compositor.screeenA.buffer,this.x,this.y,this.size,this.size,this.x,this.y,this.size,this.size),this.ctx.globalCompositeOperation=this.globalCompositeOperation,this.ctx.globalAlpha=this.globalAlpha,this.ctx.drawImage(t,0,0,t.width,t.height,this.x,this.y,this.size,this.size)):console.warn("Number was not found in the buffer:",e)}setup(e){this.x=e.x,this.y=e.y,this.size=e.size,this.globalCompositeOperation=e.globalCompositeOperation,this.globalAlpha=e.globalAlpha}async initBuffer(e){(await te(e)).forEach(o=>{const n=document.createElement("canvas");n.width=o.width,n.height=o.height;const i=n.getContext("2d");i==null||i.drawImage(o,0,0);const a=o.src.slice(-5,-4);this.digits.set(a,n)})}}function ot(r){const e=document.createElement("canvas");e.width=r.screeenA.canvas.width,e.height=r.screeenA.canvas.height;const t=e.getContext("2d");let o=0,n=0;r.screeenA.canvas.addEventListener("mousedown",a),r.screeenB.canvas.addEventListener("mousedown",a),r.screeenA.canvas.addEventListener("mouseup",s),r.screeenB.canvas.addEventListener("mouseup",s),r.screeenA.canvas.addEventListener("contextmenu",i),r.screeenB.canvas.addEventListener("contextmenu",i);function i(){t.clearRect(0,0,e.width,e.height)}function a(l){o=l.offsetX,n=l.offsetY}function s(l){d(o,n,l.offsetX-o,l.offsetY-n)}function d(l,h,u,g){const p={x:j(r,l),y:j(r,h),w:j(r,u),h:j(r,g)};console.log([p.x,p.y,p.w,p.h].join(",")),t.beginPath(),t.strokeStyle="yellow",t.strokeRect(p.x,p.y,p.w,p.h),t.closePath()}return function(){r.screeenA.ctx.drawImage(e,0,0),r.screeenB.ctx.drawImage(e,0,0)}}const lt=2,dt=1e3,oe=15,ut=.2;class ft{constructor(e){v(this,"active");v(this,"previousTime");v(this,"counter");v(this,"blurAmount");v(this,"velocity");this.compositor=e,this.active=!1,this.previousTime=new Date().getTime(),this.counter=0,this.blurAmount=0,this.velocity=ut}update(){this.active&&this.animate()}animate(){this.blurAmount+=this.velocity,this.blurAmount>oe&&(this.velocity*=-1,this.blurAmount=oe),this.blurAmount<0&&(this.blurAmount=0,this.velocity*=-1,this.active=!1);const e=Math.floor(this.blurAmount),t=1-e*2/100;this.compositor.screeenA.ctx.filter=`blur(${e}px) grayscale(${e}) opacity(${t})`,this.compositor.screeenB.ctx.filter=`blur(${e}px) grayscale(${e}) opacity(${t})`}trigger(){const e=new Date().getTime();e-this.previousTime<=dt?this.counter++:this.counter=0,this.previousTime=e,this.counter>=lt&&(this.active=!0,this.counter=0)}reset(){this.active=!1,this.blurAmount=0,this.counter=0,this.previousTime=new Date().getTime(),this.compositor.screeenA.ctx.filter="none",this.compositor.screeenB.ctx.filter="none"}}const ht=40;class gt{constructor(e){v(this,"layer");v(this,"pos");v(this,"_radius");v(this,"_koef");v(this,"_rMax");v(this,"active");v(this,"clicksPerLevel");v(this,"availableHelps");v(this,"wrapper");v(this,"maxHelps");this.compositor=e,this.active=!1,this.clicksPerLevel=1,this.availableHelps=1,this.maxHelps=1,this.layer=new m(e.screeenA.canvas.width,e.screeenA.canvas.height),this.pos={x:100,y:100},this._radius=1,this._koef=.5,this._rMax=ht,this.layer.ctx.strokeStyle="yellow",this.layer.ctx.lineWidth=2,this.wrapper=document.getElementById("progress-barr-wrapper"),this.wrapper.addEventListener("click",this.clickHandler.bind(this))}get radius(){return this._radius+=this._koef,this._radius>this._rMax&&this.toggleKoef(),this._radius<=0&&(this.toggleKoef(),this._radius=1),this._radius}toggleKoef(){this._koef*=-1}update(){this.active&&(this.animate(),this.compositor.screeenA.ctx.drawImage(this.layer.canv,0,0),this.compositor.screeenB.ctx.drawImage(this.layer.canv,0,0))}animate(){this.layer.clear(),this.layer.ctx.beginPath(),this.layer.ctx.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),this.layer.ctx.stroke(),this.layer.ctx.closePath()}set([e,t,o,n]){this.pos.x=e+o/2,this.pos.y=t+n/2,this._radius=1,this.active=!1}clickHandler(){this.active||this.availableHelps>0&&(this.active=!0,this.clicksPerLevel++,this.availableHelps--,this.removeIcon())}initOnLevel(){this.clicksPerLevel===0?this.addHelp():this.clicksPerLevel=0}addHelp(){this.availableHelps>=this.maxHelps||(this.availableHelps++,this.addIcon())}addIcon(){const e=document.createElement("span");e.classList.add("help-ico"),this.wrapper.appendChild(e)}removeIcon(){this.wrapper.removeChild(this.wrapper.childNodes[0])}initOnGame(e,t){this.availableHelps=e,this.maxHelps=t;for(let o=0;o<e;o++)this.addIcon()}}(async()=>{const r=Object.assign({"./animations/L-1/anim_a.ts":me,"./animations/L-1/anim_b.ts":ve,"./animations/L-10/lights.ts":be,"./animations/L-10/spaceman.ts":Ie,"./animations/L-12/alien.ts":Ae,"./animations/L-13/spaceship.ts":Le,"./animations/L-14/buses.ts":Ee,"./animations/L-14/rain.ts":Be,"./animations/L-14/snail.ts":Pe,"./animations/L-2/anim_a.ts":Ce,"./animations/L-2/anim_b.ts":Me,"./animations/L-3/anim_a.ts":Te,"./animations/L-4/anim_a.ts":ke,"./animations/L-4/anim_b.ts":Se,"./animations/L-6/anim_a.ts":De,"./animations/L-6/anim_b.ts":Ne,"./animations/L-8/anim_a.ts":He,"./animations/L-8/anim_b.ts":Re,"./animations/L-8/anim_c.ts":Ge,"./animations/L-8/anim_d.ts":qe,"./animations/L-9/anim_a.ts":Ue});tt();const e=/localhost/.test(window.location.href),t=document.getElementById("difficulty");t.value="Normal";const o=document.getElementById("bg-music-enabled"),n=window.AudioContext,i=new n,a=new je,s=new $e,d=new Ke(s),l=new ft(s),h=new gt(s),u=new ct(s),g=await re("./theme/config.json"),p=await we(g.piano,i),y=new Ye(s);await u.initBuffer(g.numbers),await y.initBuffer(g.vortex);const _=[],T=new Event("nextlevel");let M=0,I;a.update=function(f){l.update(),s.draw(),u.draw(),_.forEach(x=>x(f)),h.update(),y.update()},s.screeenA.canvas.addEventListener("contextmenu",Y),s.screeenB.canvas.addEventListener("contextmenu",Y);const P=e?ot(s):()=>{};function D(){return function(f){console.error("Unhandled.")}}function N(){return function(){console.error("Unhandled.")}}function R(){return function(){console.error("Unhandled.")}}let H=D(),z=N(),X=R();const G={set init(w){this.diffs=w},diffs:0};function ee(){window.setTimeout(()=>window.dispatchEvent(T),2e3)}async function W(w){d.init(),M++,_.push(P),s.screeenA.canvas.removeEventListener("click",H),s.screeenB.canvas.removeEventListener("click",H),window.removeEventListener("nextlevel",z),window.removeEventListener("updatediffIndi",X),d.showProgress("Loading Configurations...");const f=await re(w);d.showProgress("Configurations - Ok.");let x=[];if(o.checked)for(let C of f["background-audio"]){d.showProgress("Loading background music...");const A=new U;x.push(A),await A.load(C.url),A.audio.loop=!0,A.setVolume(C.volume),d.showProgress("background music - Ok.")}d.showProgress("Loading images...");const L=await te(f.images);d.showProgress("images - Ok.");let E=new Ve(f.pins),B=0;G.init=f.totalDiffs,s.initBuffers(L),u.setup(f.indication),u.update(f.totalDiffs);const k=new RegExp(`/${f["level-index"]}/`);for(const C in r)k.test(C)&&(d.showProgress("Adding animation..."),await F(r[C]),d.showProgress("animation - Ok."));H=function(C){if(C.preventDefault(),l.active)return;const A=j(s,C.offsetX),S=j(s,C.offsetY),b=E.find(A,S);if(b.length===0){l.trigger();return}B++,B===f.totalDiffs&&(B=p.buffers.size-1),p.playAudio(B+""),G.diffs--,E.searchablePins=E.bufferPins,s.redrawSegment(b),u.update(G.diffs),y.set(b),h.set(E.getPins(0)),G.diffs===0&&ee()},z=function(){g.difficulty[I].levels[M]?(x.forEach(C=>C.stop()),l.reset(),a.stop(),E=null,_.length=0,W(g.difficulty[I].levels[M])):(console.log("Resetting game."),M=0,z())},X=function(){isNaN(h.pos.x)&&h.set(E.getPins(0))},s.screeenA.canvas.addEventListener("click",H),s.screeenB.canvas.addEventListener("click",H),window.addEventListener("nextlevel",z),window.addEventListener("updatediffIndi",X),document.getElementById("level-name").innerHTML=f.name,document.getElementById("players-progress").innerHTML=`${M} / ${g.difficulty[I].levels.length}`,d.showProgress("All done."),h.set(E.getPins(0)),h.initOnLevel(),window.setTimeout(()=>{l.reset(),a.start(),x.forEach(C=>C.play())},500);async function F(C){const A=await C(G,L,s,E);_.push(A)}}const $=document.getElementById("start-game");$.value="Start",$.classList.remove("redButton"),$.classList.add("greenButton"),$.addEventListener("click",()=>{document.getElementById("gameScreen").classList.remove("visible-no"),document.getElementById("level-info").classList.remove("visible-no"),document.getElementById("enter-full-screen").classList.remove("visible-no"),document.getElementById("settings-screen").classList.add("visible-no"),I=t.value,h.initOnGame(g.difficulty[I]["init-helps"],g.difficulty[I]["max-available-helps"]),W(g.difficulty[I].levels[M])}),K();function Y(w){w.preventDefault()}function K(){const w=document.getElementById("game-screen-wrapper");document.getElementById("enter-full-screen").addEventListener("click",x);function x(){Je()?Qe(document):Ze(w)}}c();function c(){const w=document.querySelector("div.disclaimer");if(!w)return;const f=w.clientHeight,x=document.getElementsByTagName("footer")[0];x.style.marginBottom=10+f+"px"}})();
